(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["room"],{"9a03":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",{staticClass:"page-container",attrs:{id:"room"}},[s("table",{staticClass:"room-table"},[s("thead",[s("tr",[s("th",{staticClass:"room"},[t._v(t._s(t.text.table.header.room))]),s("th",{staticClass:"status"},[t._v(t._s(t.text.table.header.status))]),s("th",{staticClass:"session"},[t._v(t._s(t.text.table.header.session))])])]),s("tbody",t._l(t.roomsSession,(function(e){return s("tr",{key:"r-"+e.room.id},[s("td",{staticClass:"room"},[s("span",{staticClass:"bubble",class:{full:t.roomsStatus[e.room.id]}}),s("span",[t._v(t._s(e.room[t.languageType].name.split(" / ")[0]))])]),s("td",{staticClass:"status"},[s("span",{staticClass:"bubble",class:{full:t.roomsStatus[e.room.id]}}),s("span",{staticClass:"text"},[t._v(t._s(t.roomsStatus[e.room.id]?t.text.table.body.status.full:t.text.table.body.status.available))])]),s("td",{staticClass:"session"},[e.session?s("router-link",{staticClass:"content",attrs:{to:t.getSessionLocation(e.session.id)}},[s("h3",{staticClass:"period"},[t._v(" "+t._s(t.getSessionPeriod(e.session.start,e.session.end))+" ")]),s("h2",{staticClass:"title"},[t._v(" "+t._s(e.session[t.languageType].title)+" ")])]):s("p",{staticClass:"content empty"},[t._v(t._s(t.text.table.body.empty))])],1)])})),0)])])},a=[],o=(s("99af"),s("d81d"),s("c1f9"),s("96cf"),s("1da1")),r=s("8055"),c=s.n(r),i=s("bc3a"),u=s.n(i),l=s("e4fd"),m=s("11a5"),b=(s("9b74"),s("ab44")),d=s("680e"),p=Object(l["defineComponent"])({name:"Room",setup:function(){var t=Object(b["c"])(),e=Object(d["e"])(),s=Object(l["computed"])((function(){return"zh-TW"===e.languageType?"zh":e.languageType})),n=Object(l["computed"])((function(){return e.languagePack.room})),a=Object(l["ref"])(-1),r=Object(l["ref"])([]),i=Object(l["ref"])([]),p=Object(l["computed"])((function(){return Object.fromEntries(i.value.map((function(t){return[t.id,t.isFull]})))})),f=null,v=Object(l["reactive"])(Object(m["b"])(["RB105","AU","TR209","TR211","TR212","TR213","TR214","TR309","TR311","TR313","TR409-2","TR410","TR411","TR412-1","TR412-2","TR413-1","TR413-2"])),g=function(){var t="https://coscup2020-room.deviltea.me",e=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("".concat(t,"/api/rooms_status"));case 2:s=e.sent,n=s.data,i.value=n.roomsStatus;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{f=c()(t),f.on("connect",e),f.on("update",e)}catch(s){console.error(s)}},R=function(){f&&f.connected&&(f.disconnect(),f=null)},T=function(t,e){return"".concat(Object(m["c"])(t,"：")," ~ ").concat(Object(m["c"])(e,"："))},h=function(t){return{name:"AgendaDetail",params:{sessionId:t},query:{from:"room"}}};return Object(l["onMounted"])(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t(),e.next=3,Object(l["nextTick"])();case 3:a.value=setInterval(function t(){return r.value=v.getRoomsInProgressSession(),t}(),3e3),g();case 5:case"end":return e.stop()}}),e)})))),Object(l["onBeforeUnmount"])((function(){clearInterval(a.value),R()})),{text:n,languageType:s,roomsSession:r,roomsStatus:p,getSessionPeriod:T,getSessionLocation:h}}}),f=p,v=s("2877"),g=Object(v["a"])(f,n,a,!1,null,null,null);e["default"]=g.exports},"9b74":function(t,e,s){}}]);
//# sourceMappingURL=room.f02052cf.js.map